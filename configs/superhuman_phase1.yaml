# configs/superhuman_phase1.yaml
# Superhuman Phase 1: Enhanced training with MCTS opponents
# Based on iter600_to_1000.yaml with roadmap improvements

network_config:
  hidden_dim: 256
  num_heads: 8
  num_layers: 4
  dropout: 0.1
  species_embedding_dim: 64

ppo_config:
  learning_rate: 0.0001
  clip_epsilon: 0.2
  value_coef: 1.0             # Increased from 0.5 for better value function learning
  entropy_coef: 0.04          # Starting value (will be scheduled)
  gamma: 0.99
  gae_lambda: 0.97            # Increased from 0.95 for better long-term estimation
  ppo_epochs: 6               # Increased from 4
  minibatch_size: 2048
  max_grad_norm: 0.5
  normalize_advantages: true
  clip_value: true
  target_kl: 0.02

total_iterations: 2000        # Extended training
games_per_iteration: 16384    # More games per iteration
checkpoint_frequency: 50
eval_frequency: 25
eval_games_per_opponent: 200  # More evaluation games

# Cosine schedules with slower decay
entropy_schedule: "cosine"
entropy_start: 0.04
entropy_end: 0.02             # Slower decay (was 0.01)
temperature_schedule: "cosine"
temperature_start: 1.0
temperature_end: 0.4          # Slower decay (was 0.5)

# Opponent pool with ADAPTIVE weighting
use_opponent_pool: true
use_adaptive_weights: true
min_opponent_weight: 0.05

opponent_config:
  current_weight: 0.30
  checkpoint_weight: 0.10
  random_weight: 0.05
  heuristic_weight: 0.25
  outcome_heuristic_weight: 0.15  # Outcome-based heuristics (forward simulation)
  mcts_weight: 0.15               # MCTS-100 opponents for harder training signal
  max_checkpoints: 10

# MCTS opponents for stronger training signal
use_mcts_opponents: true
# Note: When mcts_weight > 0 but mcts_configs is empty, MCTS-100 configs are auto-populated

use_heuristic_variants: true
use_exploit_patch: true
exploit_patch_interval: 100

# Performance settings
force_cython: true
async_game_generation: true
async_num_workers: 32

buffer_size: 2000000          # Increased buffer
seed: 42
device: "cuda"
experiment_name: "superhuman_phase1"

# ALL 10 OPPONENTS
eval_opponents:
  - random
  - heuristic
  - aggressive
  - defensive
  - queue
  - skunk
  - noisy
  - online
  - outcome_heuristic
  - distilled_outcome
